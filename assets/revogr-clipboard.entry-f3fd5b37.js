import{r as n,c as o}from"./index-6f753b3c-b061fad2.js";/*!
 * Built by Revolist
 */const c=class{constructor(e){n(this,e),this.copyRegion=o(this,"copyRegion",3),this.pasteRegion=o(this,"pasteRegion",3)}onPaste(e){const t=this.getData(e),a=t.types.indexOf("text/html")>-1,r=a?t.getData("text/html"):t.getData("text"),s=a?this.htmlParse(r):this.textParse(r);this.pasteRegion.emit(s),e.preventDefault()}copyStarted(e){this.copyRegion.emit(this.getData(e)),e.preventDefault()}async doCopy(e,t){e.setData("text/plain",t?this.parserCopy(t):"")}parserCopy(e){return e.map(t=>t.join("	")).join(`
`)}textParse(e){const t=[],a=e.split(/\r\n|\n|\r/);for(let r in a)t.push(a[r].split("	"));return t}htmlParse(e){const t=[],a=document.createRange().createContextualFragment(e).querySelector("table");for(const r of Array.from(a.rows))t.push(Array.from(r.cells).map(s=>s.innerText));return t}getData(e){var t;return e.clipboardData||((t=window)===null||t===void 0?void 0:t.clipboardData)}};export{c as revogr_clipboard};
